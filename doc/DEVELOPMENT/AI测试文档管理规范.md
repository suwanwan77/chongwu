# AI测试文档管理规范

## 1. 概述

本规范旨在规范AI生成的测试文档的格式、存储、审核和管理流程，确保测试文档的质量和可维护性，避免冗余文档的产生。

## 2. AI测试文档生成要求

### 2.1 必需字段规范
AI生成的测试文档必须包含以下核心字段：

```markdown
## 测试场景
描述具体的测试场景和背景

## 测试用例编号
TC_YYYYMMDD_XXX (如: TC_20241201_001)

## 预期结果
明确描述期望的测试结果

## 实际结果
记录实际执行后的结果

## 测试状态
- PASS: 测试通过
- FAIL: 测试失败
- BLOCKED: 测试阻塞
- SKIP: 跳过测试

## 依赖测试用例
如有依赖，必须明确标注依赖的测试用例编号及状态
```

### 2.2 禁止内容
- **禁止生成无明确用途的描述性内容**
- **禁止绕过测试失败依赖生成文档**
- **禁止重复生成相同功能的测试用例**

### 2.3 依赖处理规范
当测试用例存在依赖关系时：
```markdown
## 依赖测试用例
- 依赖用例: TC_20241201_001
- 依赖状态: FAIL
- 失败原因: 登录接口返回500错误
- 处理方案: 待TC_20241201_001修复后重新执行

## 测试状态
BLOCKED - 等待依赖用例修复
```

## 3. 文档存储规范

### 3.1 临时存储目录
所有AI生成的测试中间文档统一存放在项目根目录的 `AI_TEST_TEMP` 文件夹：

```
AI_TEST_TEMP/
├── draft/              # 草稿文档
├── review/             # 待审核文档
├── rejected/           # 审核未通过文档
└── archive/            # 归档文档
```

### 3.2 正式存储目录
经审核通过的测试文档迁移至：
- `doc/DEVELOPMENT/` - 开发环境测试文档
- `test/` - 专门的测试文档目录（如存在）

### 3.3 文件命名规范
```
测试类型_模块名_版本号_状态.md

示例:
- 单元测试_用户模块_v1.0_草稿.md
- 集成测试_支付模块_v2.1_完整版.md
- 接口测试_订单模块_v1.5_简化版.md
```

## 4. 简化版本文档标准

### 4.1 简化版本要求
对于复杂的综合测试报告，必须提炼简化版本，包含以下3项核心内容：

#### 4.1.1 核心测试结论
```markdown
## 核心测试结论
- 总测试用例数: 50
- 通过用例数: 45
- 失败用例数: 3
- 阻塞用例数: 2
- 整体通过率: 90%
- 测试结论: 基本功能正常，存在2个高优先级问题需修复
```

#### 4.1.2 关键问题列表
```markdown
## 关键问题列表
1. [高优先级] 用户登录接口响应超时 - TC_20241201_001
2. [中优先级] 商品搜索结果排序异常 - TC_20241201_015
3. [低优先级] 页面加载动画显示不完整 - TC_20241201_032
```

#### 4.1.3 修复建议
```markdown
## 修复建议
1. 优化登录接口数据库查询，添加索引提升性能
2. 检查搜索排序算法，确保按相关度正确排序
3. 调整CSS动画时长，确保完整显示
```

### 4.2 字数限制
简化版文档总字数控制在 **500字以内**，便于快速查阅。

### 4.3 关联存放
简化版与完整版文档需关联存放：
```
测试报告_订单模块_v1.0_简化版.md
测试报告_订单模块_v1.0_完整版.md
```

## 5. 文档审核机制

### 5.1 审核流程
```
AI生成文档 → 存入AI_TEST_TEMP/draft/ → 测试负责人审核 → 审核通过 → 迁移至正式目录
                                                    ↓
                                               审核未通过 → 移入AI_TEST_TEMP/rejected/
```

### 5.2 审核标准
测试负责人需检查以下内容：
- [ ] 是否包含所有必需字段
- [ ] 是否存在冗余内容
- [ ] 是否正确处理失败依赖
- [ ] 是否符合简化标准（如适用）
- [ ] 测试用例编号是否唯一
- [ ] 测试场景描述是否清晰

### 5.3 审核结果处理
- **通过**: 迁移至 `doc/DEVELOPMENT/` 或 `test/` 目录
- **需修改**: 返回AI重新生成，存入 `AI_TEST_TEMP/draft/`
- **拒绝**: 移入 `AI_TEST_TEMP/rejected/` 并记录拒绝原因

## 6. 文档清理机制

### 6.1 定期清理
每周定期清理 `AI_TEST_TEMP` 文件夹：
- 清理超过7天的草稿文档
- 清理超过30天的拒绝文档
- 归档超过90天的审核通过文档

### 6.2 清理标准
```markdown
## 文档保留标准
- 有效文档: 迁移至正式目录
- 无效文档: 直接删除
- 参考文档: 移入archive/目录保存30天

## 清理日志
记录每次清理的文件数量和清理原因
```

## 7. 质量控制措施

### 7.1 重复检测
- 检测相同功能的重复测试用例
- 合并相似的测试场景
- 避免生成冗余文档

### 7.2 版本控制
- 测试文档版本号与功能版本号保持一致
- 记录每个版本的变更内容
- 保留历史版本用于回溯

### 7.3 模板标准化
提供标准模板供AI参考：

```markdown
# 测试文档模板

## 基本信息
- 测试用例编号: TC_YYYYMMDD_XXX
- 测试模块: [模块名称]
- 测试类型: [单元/集成/系统/接口]
- 优先级: [高/中/低]
- 创建时间: YYYY-MM-DD
- 创建人: [测试人员]

## 测试场景
[详细描述测试场景和背景]

## 前置条件
[执行测试前需要满足的条件]

## 测试步骤
1. [步骤1]
2. [步骤2]
3. [步骤3]

## 预期结果
[明确描述期望的测试结果]

## 实际结果
[记录实际执行后的结果]

## 测试数据
[使用的测试数据]

## 依赖测试用例
[如有依赖，标注依赖用例编号和状态]

## 测试状态
[PASS/FAIL/BLOCKED/SKIP]

## 备注
[其他需要说明的内容]
```

## 8. 团队协作规范

### 8.1 角色职责
- **AI系统**: 按规范生成测试文档
- **测试负责人**: 审核文档质量和完整性
- **开发人员**: 根据测试结果修复问题
- **项目经理**: 监督文档管理流程执行

### 8.2 沟通机制
- 每周测试文档审核会议
- 问题文档及时反馈机制
- 规范更新通知机制

## 9. 工具支持

### 9.1 推荐工具
- **文档编辑**: Markdown编辑器
- **版本控制**: Git
- **文档管理**: 文档管理系统
- **自动化检查**: 脚本检查文档格式

### 9.2 自动化脚本
提供自动化脚本辅助文档管理：
- 文档格式检查脚本
- 重复文档检测脚本
- 定期清理脚本

---

**文档版本**: v1.0  
**最后更新**: 2024年12月  
**维护人员**: 测试团队  
**审核人员**: 项目经理